<?xml version="1.0" encoding="UTF-8"?>
<atv>
  <body>
    {{ADDXML(/library/onDeck:OnDeck)}}
    {{ADDXML(/library/recentlyAdded:RecentlyAdded)}}
<!--    
    <preview>
      <scrollerPreview id="com.sample.scrollerPreview">
        <items>
          <grid id="grid_1" columnCount="5">
          {{CUT(@OnDeck/size:CUT:0=CUT|1=)}}          
            <items>
              <sixteenByNinePoster id="{{VAL(key)}}" accessibilityLabel="{{VAL(title)}}" alwaysShowTitles="true" onPlay="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}&amp;PlexConnect=Season_List')"
                 onSelect="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}&amp;PlexConnect=Season_List')">
                  {{COPY(@recentlyViewedShows/Directory)}}    
                  <title>{{VAL(title)}}</title>                            
                  <image>{{IMAGEURL(art)}}</image>
                  <defaultImage>resource://16X9.png</defaultImage>               
              </sixteenByNinePoster>
            </items>
          </grid>
         
        </items>
      </scrollerPreview>
    </preview>
-->    
    <scroller id="com.sample.movie-shelf">
      <items>    
<!--      
        <collectionDivider alignment="left" accessibilityLabel="Aktuell">
          {{CUT(@OnDeck/size:CUT:0=CUT|1=)}}
          <title>Aktuell</title>
        </collectionDivider>
-->        
        <shelf id="shelf_0" columnCount="7">
<!--          {{CUT(@OnDeck/size:CUT:0=CUT|1=)}} -->
          <sections>
            <shelfSection>
              <items>
                  <sixteenByNinePoster id="{{VAL(key)}}" 
                                       onPlay="atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}')" 
                                       onSelect="atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}')">
                  {{COPY(Directory)}}
                  <title>{{VAL(title)}}</title>
                  <image>{{IMAGEURL(thumb)}}</image>
                  <defaultImage>resource://Poster.png</defaultImage>                
                </sixteenByNinePoster>
              </items>
            </shelfSection>
          </sections>
        </shelf>

<!--        
        <collectionDivider alignment="left" accessibilityLabel="Zuletzt angesehen">
          {{CUT(@recentlyViewedShows/size:CUT:0=CUT|1=)}}
          <title>Zuletzt angesehen</title>
        </collectionDivider>
        <shelf id="shelf_1" columnCount="7">
          {{CUT(@recentlyViewedShows/size:CUT:0=CUT|1=)}}
          <sections>
            <shelfSection>
              <items>
                <moviePoster id="{{VAL(key)}}" accessibilityLabel="{{VAL(title)}}" onPlay="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}&amp;PlexConnect=Season_List')"
                 onSelect="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}&amp;PlexConnect=Season_List')">
                  {{COPY(@recentlyViewedShows/Directory)}}
                  <title>{{VAL(title)}}</title>
                  <subtitle>{{EVAL2(leafCount:0:viewedLeafCount:0)}} Ungesehen</subtitle>                  
                  <image>{{IMAGEURL(thumb)}}</image>
                  <defaultImage>resource://Poster.png</defaultImage>
                </moviePoster>
              </items>
            </shelfSection>
          </sections>
        </shelf>
-->        
        <collectionDivider alignment="left" accessibilityLabel="Aktuell">
          {{CUT(@OnDeck/size:CUT:0=CUT|1=)}} 
          <title>Aktuell</title>
        </collectionDivider>
        <shelf id="shelf_1" columnCount="7">
        {{CUT(@OnDeck/size:CUT:0=CUT|1=)}}              
          <sections>
            <shelfSection>
              <items>
                <moviePoster id="{{VAL(key)}}"
                             accessibilityLabel="{{VAL(title)}}"
                             onPlay="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}{{PLAY_COMMAND()}})"
                             onSelect="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}{{PLAY_COMMAND()}})">
                  {{COPY(@OnDeck/Video)}}    
                  <title>{{VAL(title)}}</title>     
                  <subtitle>{{VAL(grandparentTitle)}}</subtitle>                                         
                  <image>{{IMAGEURL(grandparentThumb)}}</image>
                  <defaultImage>{{IMAGEURL(thumb)}}</defaultImage>
                </moviePoster>
              </items>
            </shelfSection>
          </sections>
        </shelf>
<!--       
        <shelf id="shelf_2" columnCount="5">
        {{CUT(@recentlyViewedShows/size:CUT:0=CUT|1=)}}              
          <sections>
            <shelfSection>
              <items>
                  <preview>
                  <link>http://trailers.apple.com{{ADDPATH(key)}}/recentlyAdded?stack=1&amp;X-Plex-Container-Start=0&amp;X-Plex-Container-Size=25&amp;PlexConnect=SectionPreview-show</link>
                  </preview>  
              </items>
            </shelfSection>
          </sections>
        </shelf>
-->        
        <collectionDivider alignment="left" accessibilityLabel="Zuletzt hinzugef端gt (Filme)">
          {{CUT(@RecentlyAdded/size:CUT:0=CUT|1=)}}
          <title>Zuletzt hinzugef端gt (Filme)</title>
        </collectionDivider>
        <shelf id="shelf_3" columnCount="7">
          {{CUT(@RecentlyAdded/size:CUT:0=CUT|1=)}}
          <sections>
            <shelfSection>
              <items>
                <moviePoster id="{{VAL(key)}}"
                             accessibilityLabel="{{VAL(title)}}"
                             onPlay="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}{{PLAY_COMMAND()}})"
                             onSelect="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}&amp;PlexConnect=MoviePrePlay')">
                  {{COPY(@RecentlyAdded/Video)}}
                  <title>{{VAL(title)}}</title>
                  <subtitle>{{VAL(year)}}</subtitle>
                  <image>{{IMAGEURL(thumb)}}</image>
                  <defaultImage>resource://Poster.png</defaultImage>
                </moviePoster>
              </items>
            </shelfSection>
          </sections>
        </shelf>
        
        <collectionDivider alignment="left" accessibilityLabel="Zuletzt hinzugef端gt (Serien)">
          {{CUT(@RecentlyAdded/size:CUT:0=CUT|1=)}}
          <title>Zuletzt hinzugef端gt (Serie)</title>
        </collectionDivider>
        <shelf id="shelf_3" columnCount="7">
          {{CUT(@RecentlyAdded/size:CUT:0=CUT|1=)}}
          <sections>
            <shelfSection>
              <items>
                <moviePoster id="{{VAL(key)}}"
                             accessibilityLabel="{{VAL(title)}}"
                             onPlay="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}&amp;PlexConnect=Season')"
                             onSelect="atv.sessionStorage['addrpms']='{{ADDR_PMS()}}';{{sendToATV(ratingKey:0:duration:0)}};atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}&amp;PlexConnect=Season')">
                  {{COPY(@RecentlyAdded/Directory)}}
                  <title>{{VAL(parentTitle)}}</title>
                  <subtitle>Staffel {{VAL(index)}}</subtitle>
                  <image>{{IMAGEURL(parentThumb)}}</image>
                  <defaultImage>resource://Poster.png</defaultImage>
                </moviePoster>
              </items>
            </shelfSection>
          </sections>
        </shelf>
      </items>
    </scroller>
  </body>
</atv>

<!--
<atv>
  <body>
    <listWithPreview id="com.sample.menu-items-with-sections">
      <header>
        <simpleHeader>
          <title>{{VAL(title1:Plex Mediathek)}}</title>
          <subtitle>{{VAL(title2)}}</subtitle>
        </simpleHeader>
      </header>
      <menu>
        <sections>
          <menuSection>
            <items>
              <!- library directories ->
              <oneLineMenuItem id="{{VAL(key)}}" 
                                       onPlay="atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}')" 
                                       onSelect="atv.loadURL('http://trailers.apple.com{{ADDPATH(key)}}')">
                {{COPY(Directory)}}
                <label>{{VAL(title)}}</label>
                <preview>
                  <link>http://trailers.apple.com{{ADDPATH(key)}}/recentlyAdded?stack=1&amp;X-Plex-Container-Start=0&amp;X-Plex-Container-Size=25&amp;PlexConnect=SectionPreview-{{VAL(type)}}</link>
                </preview>
              </oneLineMenuItem>
            </items>
          </menuSection>
        </sections>
      </menu>
    </listWithPreview>
  </body>
</atv>
-->